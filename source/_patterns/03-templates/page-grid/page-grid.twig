{% set attributes = attributes|default({})|merge({class: attributes.class|default([])|merge(['page-grid']) }) -%}

{%- if isMain|default(false) -%}
  {%- set element = 'main' -%}
  {%- set attributes = attributes|merge({role: 'main' }) -%}
{%- else -%}
  {%- set element = 'div' -%}
{%- endif -%}

<{{ element }} {%- include 'atoms-attributes' %}>

  {%- with {items: items} only -%}
    {%- block items -%}

      {%- for item in items -%}

        {%- with item only -%}
          {%- block item -%}

            {%- with arguments|default({})|merge({_keylineStart: keylineStart|default(false), _keylineEnd: keylineEnd|default(false), _template: template|default('templates-single-column-grid')}) only -%}

              {%- set attributes = attributes|default({})|merge({class: attributes.class|default(['page-grid-item'])}) -%}

              {%- if _keylineStart -%}
                {%- set attributes = attributes|merge({class: attributes.class|merge(['page-grid-item--has-keyline-start']) }) -%}
              {%- endif -%}

              {%- if _keylineEnd -%}
                {%- set attributes = attributes|merge({class: attributes.class|merge(['page-grid-item--has-keyline-end']) }) -%}
              {%- endif -%}

              {%- include _template -%}

            {%- endwith -%}

          {%- endblock item %}
        {%- endwith -%}

      {%- endfor -%}

    {%- endblock items -%}
  {%- endwith -%}

</{{ element }}>
