{%- import 'atoms-html' as html -%}

{%- set attributes ={class: 'section'}|merge_recursive(attributes|default({})) -%}

<section {{- html.attributes(attributes) }}>

  {%- with heading|default({}) only -%}

    {%- block heading -%}

      {%- if text is defined -%}

        {%- set attributes = {class: 'section__heading'}|merge_recursive(attributes|default({})) -%}
        {%- set level = level|default(2) -%}

        {%- include 'atoms-heading' -%}

      {%- endif -%}

    {%- endblock -%}

  {%- endwith -%}

  {%- with {content: content, html: html} only -%}

    {%- block content -%}

      {%- set attributes = {class: 'section__body'}|merge_recursive(attributes|default({})) -%}

      <div {{- html.attributes(attributes) }}>
        {{- html.content(content) -}}
      </div>

    {%- endblock -%}

  {%- endwith -%}

</section>
