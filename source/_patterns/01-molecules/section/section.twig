{%- set attributes = attributes|default({})|merge({class: attributes.class|default([])|merge(['section']) }) -%}

<section {%- include 'atoms-attributes' -%}>

  {%- with heading|default({}) only -%}

    {%- block heading -%}

      {%- if text is defined -%}

        {%- set attributes = attributes|default({})|merge({class: attributes.class|default([])|merge(['section__heading']) }) -%}
        {%- set level = level|default(2) -%}

        {%- include 'atoms-heading' -%}

      {%- endif -%}

    {%- endblock -%}

  {%- endwith -%}

  {%- block content -%}

    {%- set attributes = attributes|default({})|merge({class: attributes.class|default([])|merge(['section__body']) }) -%}

    <div {%- include 'atoms-attributes' -%}>
      {%- include 'atoms-text' with {nodes: content} -%}
    </div>

  {%- endblock -%}

</section>
