@import "../variables/font";
@import "../vendor/sass-rem/rem";

$rem-baseline: $font-size-base;
$rem-fallback: true;

@mixin safe-rem($properties, $values...) {

  @if type-of($properties) == "map" {

    @each $property in map-keys($properties) {
      @include safe-rem($property, map-get($properties, $property));
    }

  } @else {

    $convert: false;
    @each $valueList in $values {
      @each $value in $valueList {
        @if type-of($value) == "number" and index((rem, px), unit($value)) {
          $convert: true;
        }
      }
    }

    @each $property in $properties {
      @if $convert == true {
        @include rem($property, $values...);
      } @else if $rem-px-only {
        #{$property}: rem-convert(px, $values...);
      } @else {
        #{$property}: $values;
      }
    }

  }

}
